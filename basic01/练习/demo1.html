<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>练习</title>
    <script src="../js/react.development.js"></script>
    <script src="../js/react-dom.development.js">
    </script>
    <script src="../js/babel.js"></script>
</head>
<body>
   <div id="root"></div>
   <script type="text/babel">
       // class Update extends React.Component{
       //
       //     state = {
       //       users:[],
       //     }
       //
       //     render(){
       //       const {users} = this.state;
       //       return (
       //               <div>
       //                 <input ref={i => this.input = i} type={"text"} placeholder="请编辑name"/>
       //                 <button onClick={this.addUsername}>确定</button>
       //                 <ul>
       //                   {
       //                      users.map((user,index) => {
       //                          return <li key={index}>{user}</li>
       //                      })
       //                   }
       //                 </ul>
       //               </div>
       //         )
       //      }
       //
       //   addUsername = () =>{
       //       let {users} = this.state;
       //       let {value:newUsername} = this.input;
       //       if(newUsername !== '') {
       //           users = [...users,newUsername];
       //           this.setState({users});
       //       }
       //   }
       // }
       // class UserInput extends React.Component {
       //
       //     state = {
       //         user: this.props.user
       //     }
       //
       //     handleChange = (e) => {
       //         this.setState({
       //             user: {
       //                 ...this.state.user,
       //                 name: e.target.value
       //             }
       //         });
       //     }
       //
       //     render() {
       //         const { onConfirm } = this.props;
       //         const { user } = this.state;
       //         return (
       //             <div>
       //                 <input value={user.name || ''} onChange={this.handleChange} />
       //                 <button onClick={() => { onConfirm(user) }}>确定</button>
       //             </div>
       //         );
       //     }
       // }
       //
       // class App extends React.Component {
       //     state = {
       //         users: [
       //             { id: 0, name: 'bruce' },
       //             { id: 1, name: 'frank' },
       //             { id: 2, name: 'tony' }
       //         ],
       //         targetUser: {}
       //     }
       //
       //     onConfirm = (user) => {
       //         const { users } = this.state;
       //         const target = users.find(u => u.id === user.id);
       //
       //         if (target) {
       //             this.setState({
       //                 users: [
       //                     ...users.slice(0, users.indexOf(target)),
       //                     user,
       //                     ...users.slice(users.indexOf(target) + 1)
       //                 ]
       //             });
       //         } else {
       //             const id = Math.max(...(users.map(u => u.id))) + 1;
       //             this.setState({
       //                 users: [
       //                     ...users,
       //                     {
       //                         ...user,
       //                         id
       //                     }
       //                 ]
       //             });
       //         }
       //     }
       //
       //     render() {
       //         const { users, targetUser } = this.state;
       //         return (
       //             <div>
       //                 <UserInput user={targetUser} onConfirm={this.onConfirm} />
       //                 <ul>
       //                     {
       //                         users.map(u => (
       //                             <li key={u.id}>
       //                                 {u.name}
       //                                 <button onClick={() => { this.setState({ targetUser: u }) }}>编辑</button>
       //                             </li>
       //                         ))
       //                     }
       //                 </ul>
       //                 <button onClick={() => { this.setState({ targetUser: {} }) }}>新建</button>
       //             </div>
       //         )
       //     }
       // }

   </script>
</body>
</html>
